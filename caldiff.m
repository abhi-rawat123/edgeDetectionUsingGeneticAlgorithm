%cal
function[answer]= caldiff(img,x,y)

R1x= [[-1,-1,-1,0];[1,1,0,-1];[0,1,1,1];[-1,-1,0,1];[0,1,1,1];[-1,0,1,1];[0,-1,-1,-1];[-1,-1,0,1]];
R1y= [[-1,0,1,1];[0,1,1,1];[-1,-1,0,1];[0,-1,-1,-1];[1,1,0,-1];[-1,-1,-1,0];[-1,-1,0,1];[0,1,1,1]];
R11x= [[0,0,-1,-1,-2];[0,0,1,1,2]];
R11y=[[-2,-1,-1,0,0];[-2,-1,-1,0,0]];
R111x=[[-1,-1,0,0,1,1];[-2,-2,-2,-1,-1,-1]];
R111y=[[-2,-1,-2,-1,-2,-1];[-1,0,1,-1,0,1]];
 
R2x=[[1,1,2,2];[-1,-1,0,0];[-2,-2,-1,-1];[0,0,1,1];[-2,-2,-1,-1];[-1,-1,0,0];[1,1,2,2];[0,0,1,1]];
R2y=[[-1,0,-1,0];[-2,-1,-2,-1];[0,1,0,1];[1,2,1,2];[-1,0,-1,0];[1,2,1,2];[0,1,0,1];[-2,-1,-2,-1]];
R22x=[[0,0,1,1,2];[-2,-1,-1,0,0]];
R22y=[[1,2,0,1,0];[0,0,1,1,2]];
R222x=[[-1,-1,0,0,1,1];[1,1,1,2,2,2]];
R222y=[[1,2,1,2,1,2];[-1,0,1,-1,0,1]];
        diffmax=0.0;
        matn=1;
        for k=1:8
            a=0.0;
            b=0.0;
            for m=1:4
                a=a+img(x+R1x(k,m),y+R1y(k,m));
                b=b+img(x+R2x(k,m),y+R2y(k,m));
               
            end
             c=a-b;
                if(c<0)
                    c=-1.0*c;
                end
                c=(c*1.0)/4.0;
                if(c>diffmax)
                    diffmax=c;
                    matn=k;
                end
        end
            
        for k=1:2
            a=0.0;
            b=0.0;
            for m=1:5
                a=a+img(x+R11x(k,m),y+R11y(k,m));
                b=b+img(x+R22x(k,m),y+R22y(k,m));
            end
            c=a-b;
                if(c<0)
                    c=-1.0*c;
                end
                c=(c*1.0)/5.0;
                if(c>diffmax)
                    diffmax=c;
                    matn=k+8;
                end
        end
        for k=1:2
            a=0.0;
            b=0.0;
            for m=1:6
                a=a+img(x+R111x(k,m),y+R111y(k,m));
                b=b+img(x+R222x(k,m),y+R222y(k,m));
            end
            c=a-b;
                if(c<0)
                    c=-1.0*c;
                end
                c=(c*1.0)/6.0;
                if(c>diffmax)
                    diffmax=c;
                    matn=k+10;
                end
        end
answer=[diffmax,matn];
end